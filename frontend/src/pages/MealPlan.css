:root{
  --bg:#f3f4f6;          /* page background */
  --panel:#ffffff;        /* cards + panels */
  --ink:#111827;          /* primary text */
  --muted:#6b7280;        /* secondary text */
  --line:#e5e7eb;         /* borders */
  --radius:14px;
  --shadow:0 8px 24px rgba(0,0,0,.08);
}

/* Layout */
.mp-root{
  /* make room for fixed sidebar */
  display:block;
  padding:24px;
  padding-left:320px; /* sidebar (280) + gutter */
  min-height:100vh;
  background:var(--bg);
  color:var(--ink);
  box-sizing:border-box;
}

/* Fixed sidebar that stays on screen even with horizontal scroll */
.mp-sidebar{
  position:fixed; top:16px; left:24px; width:280px; z-index:20;
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}

.mp-sidebar-section + .mp-sidebar-section{ margin-top:20px; }
.mp-sidebar-title{ font-size:14px; color:var(--muted); margin:0 0 8px; font-weight:600; }
.mp-link{ background:transparent; border:0; color:#111; text-align:left; padding:8px 10px; border-radius:10px; cursor:pointer; }
.mp-link:hover{ background:#f3f4f6; }

.mp-main{ display:flex; flex-direction:column; gap:18px; }
.mp-header{ display:flex; align-items:center; justify-content:space-between; }
.mp-title{ font-size:22px; margin:0; }

.mp-toolbar{ display:flex; align-items:center; gap:8px; }
.mp-toolbar-spacer{ width:8px; }

/* Buttons */
.mp-btn{ border:1px solid var(--line); background:var(--panel); padding:8px 12px; border-radius:10px; cursor:pointer; }
.mp-btn.primary{ background:#0f62fe; color:#fff; border-color:#0f62fe; }
.mp-btn.ghost{ background:transparent; }
.mp-btn:hover{ filter:brightness(.98); }

.mp-icon-btn{ width:34px; height:34px; display:grid; place-items:center; border:1px solid var(--line); border-radius:10px; background:var(--panel); cursor:pointer; }
.mp-icon-btn:hover{ background:#f9fafb; }

.mp-chip{ display:flex; align-items:center; gap:8px; border:1px solid var(--line); background:var(--panel); padding:8px 12px; border-radius:999px; }
.mp-chip svg{ color:#111; }

/* === Week box: horizontal scroll, auto height (grows to tallest day) === */
.mp-scroller{
  /* visual box */
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 12px;

  /* layout */
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(280px, 360px);
  gap: 16px;

  /* behavior: only horizontal scroll, height grows with content */
  overflow-x: auto;
  overflow-y: visible;
  height: auto;
}
.mp-scroller::-webkit-scrollbar{ height:10px; }
.mp-scroller::-webkit-scrollbar-thumb{ background:#d1d5db; border-radius:6px; }

/* Day column */
.mp-day{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  overflow:visible;      /* do not clip cards */
  height:auto;           /* grow to content */
}
.mp-day-head{ display:flex; align-items:center; gap:8px; padding:12px 14px; border-bottom:1px solid var(--line); background:#fff; position:sticky; top:0; z-index:1; }
.mp-day-name{ font-weight:700; }
.mp-day-count{ margin-left:auto; background:#f3f4f6; border:1px solid var(--line); padding:2px 8px; border-radius:999px; font-size:12px; color:var(--muted); }

.mp-day-list{ display:flex; flex-direction:column; gap:12px; padding:12px; overflow:visible; }

/* Card */
.mp-card{ display:flex; flex-direction:column; border:1px solid var(--line); border-radius:14px; background:#fff; overflow:visible; }
.mp-card-img{ height:160px; overflow:hidden; background:#f3f4f6; }
.mp-card-img img{ width:100%; height:100%; object-fit:cover; display:block; }
.mp-card-body{ padding:12px; }
.mp-card-title{ font-size:16px; line-height:1.25; margin:0 0 8px; font-weight:700; }

.mp-pill{ display:inline-block; font-size:12px; color:#111; background:#f3f4f6; border:1px solid var(--line); padding:4px 8px; border-radius:999px; }

.mp-macros{ margin-top:10px; color:var(--muted); font-size:13px; }

/* Responsive */
@media (max-width: 960px){
  .mp-sidebar{ position:static; width:auto; }
  .mp-root{ padding-left:24px; }
  .mp-scroller{ grid-auto-columns:minmax(240px, 1fr); }
}
```css
:root{
  --bg:#f3f4f6;          /* page background */
  --panel:#ffffff;        /* cards + panels */
  --ink:#111827;          /* primary text */
  --muted:#6b7280;        /* secondary text */
  --line:#e5e7eb;         /* borders */
  --radius:14px;
  --shadow:0 8px 24px rgba(0,0,0,.08);
}

/* Layout */
.mp-root{
  display:grid;
  grid-template-columns:280px 1fr;
  gap:24px;
  min-height:100vh;
  background:var(--bg);
  color:var(--ink);
  padding:24px;
  box-sizing:border-box;
}

.mp-sidebar{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
  position:sticky; top:16px; height:fit-content;
}

.mp-sidebar-section + .mp-sidebar-section{ margin-top:20px; }
.mp-sidebar-title{ font-size:14px; color:var(--muted); margin:0 0 8px; font-weight:600; }
.mp-link{ background:transparent; border:0; color:#111; text-align:left; padding:8px 10px; border-radius:10px; cursor:pointer; }
.mp-link:hover{ background:#f3f4f6; }

.mp-main{ display:flex; flex-direction:column; gap:18px; }
.mp-header{ display:flex; align-items:center; justify-content:space-between; }
.mp-title{ font-size:22px; margin:0; }

.mp-toolbar{ display:flex; align-items:center; gap:8px; }
.mp-toolbar-spacer{ width:8px; }

/* Buttons */
.mp-btn{ border:1px solid var(--line); background:var(--panel); padding:8px 12px; border-radius:10px; cursor:pointer; }
.mp-btn.primary{ background:#0f62fe; color:#fff; border-color:#0f62fe; }
.mp-btn.ghost{ background:transparent; }
.mp-btn:hover{ filter:brightness(.98); }

.mp-icon-btn{ width:34px; height:34px; display:grid; place-items:center; border:1px solid var(--line); border-radius:10px; background:var(--panel); cursor:pointer; }
.mp-icon-btn:hover{ background:#f9fafb; }

.mp-chip{ display:flex; align-items:center; gap:8px; border:1px solid var(--line); background:var(--panel); padding:8px 12px; border-radius:999px; }
.mp-chip svg{ color:#111; }

/* Days scroller */
.mp-scroller{
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns: minmax(280px, 360px);
  gap:16px;
  overflow-x:auto;
  padding-bottom:8px;
}
.mp-scroller::-webkit-scrollbar{ height:10px; }
.mp-scroller::-webkit-scrollbar-thumb{ background:#d1d5db; border-radius:6px; }

/* Day column */
.mp-day{ background:var(--panel); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; }
.mp-day-head{ display:flex; align-items:center; gap:8px; padding:12px 14px; border-bottom:1px solid var(--line); background:#fff; position:sticky; top:0; z-index:1; }
.mp-day-name{ font-weight:700; }
.mp-day-count{ margin-left:auto; background:#f3f4f6; border:1px solid var(--line); padding:2px 8px; border-radius:999px; font-size:12px; color:var(--muted); }

.mp-day-list{ display:flex; flex-direction:column; gap:12px; padding:12px; }

/* Card */
.mp-card{ border:1px solid var(--line); border-radius:14px; overflow:hidden; background:#fff; }
.mp-card-img{ height:160px; overflow:hidden; background:#f3f4f6; }
.mp-card-img img{ width:100%; height:100%; object-fit:cover; display:block; }
.mp-card-body{ padding:12px; }
.mp-card-title{ font-size:16px; line-height:1.25; margin:0 0 8px; font-weight:700; }

.mp-pill{ display:inline-block; font-size:12px; color:#111; background:#f3f4f6; border:1px solid var(--line); padding:4px 8px; border-radius:999px; }

.mp-macros{ margin-top:10px; color:var(--muted); font-size:13px; }

/* Responsive */
@media (max-width: 960px){
  .mp-root{ grid-template-columns:1fr; }
  .mp-sidebar{ position:static; order:2; }
}
/* ===== Compact mode: shrink spacing so page doesn't need vertical scroll ===== */
:root{
  --week-pad: 10px;
  --col-gap: 14px;        /* between day columns */
  --day-gap: 8px;         /* between cards in a day */
  --card-pad: 10px;
  --img-h: 140px;         /* was 160px */
  --fs-title: 15px;       /* card title */
  --fs-macro: 12px;
  --fs-pill: 11px;
}

/* Box + columns get a touch tighter */
.mp-scroller{
  padding: var(--week-pad);
  gap: var(--col-gap);
}
.mp-day-head{ padding: 10px 12px; }
.mp-day-list{ gap: var(--day-gap); padding: 10px; }

/* Cards */
.mp-card-body{ padding: var(--card-pad); }
.mp-card-img{ height: var(--img-h); }
.mp-card-title{ font-size: var(--fs-title); margin-bottom: 6px; }

/* Chips + macros a bit smaller */
.mp-pill{ font-size: var(--fs-pill); padding: 3px 7px; }
.mp-macros{ font-size: var(--fs-macro); margin-top: 8px; }

/* Toolbar/title slightly tighter */
.mp-title{ font-size: 20px; }
.mp-chip{ padding: 7px 10px; }

/* Optional: a slightly denser grid on very small laptops */
@media (max-height: 820px){
  :root{ --img-h: 130px; }
}
/* === Week box width cap (no more endless stretching) === */
:root{
  --weekbox-w: 1180px;          /* tweak this to your taste */
}

.mp-scroller{
  width: 100%;
  max-width: var(--weekbox-w);  /* limit the horizontal viewport */
  margin: 0 auto;               /* center the box */
  /* keep your existing box styling + horizontal scroll behavior */
  overflow-x: auto;
  overflow-y: visible;
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(280px, 360px);
  gap: 16px;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 12px;
}

/* Optional: a little breathing room below the box */
.mp-main { gap: 24px; }

/* Mobile: let it use full width again */
@media (max-width: 960px){
  .mp-scroller{
    max-width: none;
    grid-auto-columns: minmax(240px, 1fr);
  }
}
